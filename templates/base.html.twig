<!DOCTYPE html>
<html lang="{% block html_locale %}en{% endblock %}">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="/site.webmanifest">
    {% block meta %}
        <title>{% block title %}{{ author }} // Portfolio{% endblock %}</title>
        {# Search Engine #}
        <meta name="author" content="{{ author }}">
        <meta name="description" content="{% block description %}Personal website{% endblock %}">
        <meta name="image" content="{% block meta_image %}{{ (website_url ~ asset('img/site_preview.png'))|sanitize_url }}{% endblock %}">
        {# Schema.org for Google #}
        <meta itemprop="name" content="{{ block('title') }}">
        <meta itemprop="description" content="{{ block('description') }}">
        <meta itemprop="image" content="{{ block('meta_image') }}">
        {# Twitter #}
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:site" content="@{{ github_user }}">
        <meta name="twitter:creator" content="@{{ github_user }}">
        <meta name="twitter:image" content="{{ block('meta_image') }}">
        {# Open Graph general #}
        <meta name="og:title" content="{{ block('title') }}">
        <meta name="og:description" content="{{ block('description') }}">
        <meta name="og:image" content="{{ block('meta_image') }}">
        <meta name="og:url" content="{{ (website_url ~ app.request.requestUri)|sanitize_url }}">
        <meta name="og:site_name" content="{{ author }}">
        <meta name="og:type" content="{% block og_type %}website{% endblock %}">
        <link rel="alternate" type="application/rss+xml" href="{{ path('blog_rss') }}" title="Rss feed for {{ website_url }}">
    {% endblock %}
        {% block stylesheets %}{% endblock %}
        {% block javascripts %}
            {% block importmap %}{{ importmap('app') }}{% endblock %}
            <script async src="https://analytics.xn--jibbarth-d1a.fr/script.js" data-website-id="{{ analytic_website_id }}" data-auto-track="false"></script>
        {% endblock %}
        <script>
            if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.documentElement.classList.add('dark')
            } else {
                document.documentElement.classList.remove('dark')
            }
        </script>
    </head>
    <body class="flex flex-col min-h-screen bg-background font-sans">
        <header>
            {% block header %}
            <twig:navbar />
            <div class="relative pt-24 pb-12 overflow-hidden bg-background">
                 {# Background Image / Effect Area #}
                <div class="absolute inset-0 z-0">
                    {% block header_image %}
                         {% set bannerPhoto = unsplash_photo('website', 1600, 200) %}
                         <img
                            class="absolute inset-0 w-full h-full object-cover opacity-50"
                            src="{{ bannerPhoto.blurhash }}"
                            {{ stimulus_controller('symfony/ux-lazy-image/lazy-image', {
                                src: bannerPhoto.fullUrl
                            }) }}
                            alt="Banner"
                        >
                    {% endblock %}
                    {# Overlay to ensure text readability over potential banners #}
                     <div class="absolute inset-0 bg-background/60 backdrop-blur-[2px]"></div>
                </div>

                <div class="container mx-auto px-4 relative z-10">
                    <div class="flex flex-col md:flex-row items-center gap-8 md:gap-16">
                        {# Profile Picture (Constant) #}
                        <div class="relative group">
                            <div class="absolute -inset-1 bg-gradient-to-r from-primary to-secondary rounded-full blur opacity-50 group-hover:opacity-100 transition duration-1000 group-hover:duration-200"></div>
                            <div class="relative w-40 h-40 md:w-56 md:h-56 rounded-full overflow-hidden border-4 border-background ring-2 ring-border">
                                    {% set profile_path = 'https://avatars.githubusercontent.com/u/3168281?v=4' %}
                                    <img src="{{ profile_path }}" alt="{{ author }}" class="w-full h-full object-cover">
                            </div>
                        </div>

                        {# Text & Info Area #}
                        <div class="text-center md:text-left max-w-2xl flex-1">
                            {{ partial('certifications') }}
                            <h1 class="text-4xl md:text-6xl font-bold tracking-tight mb-4 text-foreground">
                                {{ author }}
                            </h1>
                            <div class="text-xl text-muted-foreground mb-6 leading-relaxed">
                                ðŸ‡«ðŸ‡· Web developer
                                <div>{{ partial('social') }}</div>
                            </div>

                             {% block sub_profile %}
                                {{ partial('interests') }}
                             {% endblock %}
                        </div>
                    </div>
                </div>
            </div>
            {% endblock %}
        </header>
        <main class="grow">
            {% block body %}{% endblock %}
        </main>
        <twig:Separator></twig:Separator>
        <footer class="m-auto py-4 w-full max-w-5xl px-2 md:px-12 md:text-sm text-muted-foreground">
            <div class="sm:flex justify-between text-center">
                <div class="sm:w-1/2 sm:text-left">
                    Â© <a href="{{ website_url }}">{{ author }}</a>
                </div>
                <div class="w-full sm:text-center">
                    Last generation: {{ 'now'|format_datetime() }}
                </div>
                <div class="sm:w-1/2 sm:text-right flex items-center justify-end gap-3">
                    {{ partial('social') }}
                </div>
            </div>
        </footer>
    </body>
</html>
