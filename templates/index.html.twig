{% extends 'base.html.twig' %}

{% block body %}
<div class="flex flex-col items-center">
    <div class="w-full sm:max-w-3xl border-b border-gray-400 px-2 pb-3 mb-3">
        <div class="text-center sm:w-1/3 mx-auto border-b border-gray-400 pb-3">
            <h2 class="inline-block text-2xl font-semibold ">Featured projects</h2>
        </div>
        <div class="flex flex-row flex-wrap -mx-2 mt-4 justify-center ">
            {% for project in projects %}
                <div class="w-full sm:w-1/2 md:w-1/3 mb-4 sm:px-2">
                    <div class="bg-gray-100 sm:rounded overflow-hidden shadow">
                        <img class="h-32 w-full object-cover object-center" src="{{ unsplash('programming,' ~project.name, 300, 300) }}" alt="">
                        <div class="p-4 h-auto">
                            <a href="{{ project.url}}"
                               class="block text-center text-gray-700 hover:text-blue-600 font-semibold mb-2 text-lg">
                                {{ project.name }}
                            </a>
                            <div class="text-gray-600 text-sm leading-relaxed block md:text-xs lg:text-sm">
                                {{ project.description }}
                            </div>
                            <div class="mt-4 text-center">
                                {% set classes = 'text-red-600 border-red-600 hover:bg-red-600' %}
                                {% if project.role == 'contributor' %}
                                    {% set classes = 'text-green-600 border-green-600 hover:bg-green-600' %}
                                {% endif %}
                                {% if project.role == 'maintener' %}
                                    {% set classes = 'text-blue-600 border-blue-600 hover:bg-blue-600' %}
                                {% endif %}
                                <p class="inline-block
                                    text-xs mr-2 my-1 uppercase tracking-wider border px-2
                                     {{ classes }} hover:text-gray-100 cursor-default">
                                    {{ project.role }}
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
    <div class="w-full sm:max-w-3xl mb-4">
        <div class="text-center sm:w-1/3 mx-auto border-b border-gray-400 pb-3">
            <h2 class="inline-block text-2xl font-semibold ">Writings</h2>
        </div>
        <div class="bg-gray-100 mt-4 sm:rounded overflow-hidden shadow">
            {% for article in articles %}
                {% set url = path('article_detail', {type: article.type, article: article.id}) %}
                {% if article.type == constant('App\\Constant\\ArticleType::EXTERNAL') %}
                    {% set url = article.url %}
                {% endif %}
                <div class="border-b p-4">
                    <a href="{{ url }}"
                        class="text-lg text-gray-700 font-semibold hover:underline"
                        {% if article.type == constant('App\\Constant\\ArticleType::EXTERNAL') %}
                            target="_blank" rel="noopener,noreferrer"
                        {% endif %}
                    >
                        {% if article.type == constant('App\\Constant\\ArticleType::EXTERNAL') %}
                            <i class="fa fa-external-link-alt"></i>
                        {% endif %}
                        {{ article.title }}
                    </a>
                    <div class="flex justify-between">
                        <div>
                            <span class="inline-block
                                text-xs mr-2 my-1 uppercase tracking-wider border px-2
                                text-gray-600 border-gray-600 hover:bg-gray-600 hover:text-gray-100 cursor-default">
                                {{ article.type }}
                            </span>
                        </div>
                        <div class="text-right text-sm text-gray-500">
                            <i class="fa fa-calendar-day"></i>
                            {{ article.date|format_date() }}
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}
